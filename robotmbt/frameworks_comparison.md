# RobotMBT Visualization Framework Analysis

## Framework Comparison

| Feature | Plotly | Bokeh | NetworkX |
|---------|---------|--------|-----------|
| **Graph Structure Visualization** | ‚úÖ Excellent interactive network graphs with hover details | ‚úÖ Good network graphs but needs more setup | ‚ùå Only basic static diagrams |
| **Path Highlighting** | ‚úÖ Easy to color nodes and edges to show executed vs uncovered paths | ‚úÖ Possible but requires manual styling work | ‚ùå Limited highlighting capabilities |
| **User Interaction** | ‚úÖ Built-in zoom, pan, hover with custom tooltips showing scenario details | ‚úÖ Interactive but needs custom code for advanced features | ‚ùå No native interactivity |
| **HTML Report Integration** | ‚úÖ Direct embedding in Robot Framework HTML reports | ‚úÖ https://docs.bokeh.org/en/2.4.3/docs/user_guide/embed.html | ‚ùå Static images only |
| **Export Options** | ‚úÖ One-click export to PNG, SVG, PDF, HTML | üü® Requires `selenium` https://docs.bokeh.org/en/2.4.3/docs/user_guide/export.html  | ‚ùå Limited to basic image formats |
| **Quantitative Metrics Display** | ‚úÖ Can show coverage stats, node counts, and trace data alongside graph | ‚úÖ Possible but needs more development effort | ‚úÖ Good for calculating metrics, poor for display |
| **Automatic Generation** | ‚úÖ Fits into RobotMBT's post-processing workflow, high-level API, quick prototyping | üü® Requires more integration work, needed for polished results | ‚ùå Not designed for automated reporting and modern visualization |

## How Plotly Meets Project Requirements

### Must Have Requirements
1. **Graph of all scenarios** - Plotly's network graphs clearly show scenarios as nodes and relationships as edges
2. **Handle repetition** - Node size/color can show repetition counts; edge thickness can indicate transition frequency  
3. **Differentiate executed path** - Easy color coding (green for executed, gray for uncovered) with Plotly's styling
4. **Quantitative information** - Plotly can display metrics panels alongside the graph showing coverage percentages
5. **Clear node/edge identification** - Hover tooltips show scenario names and relationship details
6. **Coverage indication** - Color coding and side metrics show how much of the model was exercised
7. **Legend/explanation** - Plotly annotations and side panels provide necessary documentation

### Should Have Requirements  
1. **Automatic generation** - Plotly HTML files generate automatically after test runs, which fits into Robot Framework workflow

### Could Have Requirements
1. **Interactive exploration** - Built-in zoom, pan, and hover satisfy basic interaction needs
2. **Filtering capabilities** - Plotly's buttons and sliders can implement show/hide functionality
3. **Export options** - Native support for PNG, SVG, PDF, and HTML export
4. **Test run information** - Side panels can display seed values, runtime, and other metadata

## Recommendation: Plotly + NetworkX

**Technical Benefits:**
- Uses existing `suitedata.py` structures (Suite, Scenario, Step) for data extraction
- Integrates with RobotMBT's `TraceState` from `tracestate.py` to track executed paths  
- Leverages NetworkX for graph calculations while using Plotly for visualization
- Generates HTML that embeds directly into Robot Framework's reporting system

**User Experience Benefits:**
- Users can immediately explore scenario relationships without learning new tools
- The visualization helps validate model correctness by showing unexpected connections
- Coverage metrics help teams understand test completeness at a glance
- The interactive nature supports both high-level overview and detailed investigation

## Implementation Approach

The prototype uses:
- `ModelVisualizer` class to process RobotMBT suite data
- NetworkX for graph structure and path calculations  
- Plotly for interactive visualization generation
- Integration with `SuiteReplacer` in `suitereplacer.py` for automatic post-run generation
